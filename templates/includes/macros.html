{% macro nav_link(label, href, icon, number="") %}
{% if request.path == href %}
<a href="{{href}}" class="block bg-orange-500 text-white transition-all p-2 rounded-md">
  <span class="flex flex-row gap-2 items-center">
    <i data-feather={{icon}} class="h-6 w-6"></i>
  <p class="hidden md:inline font-semibold font-sans text-lg">{{label}}</p>
  </span>
  <p class="hidden md:inline">{{number}}</p>
</a>
{% else %}
<a href="{{href}}" class="block hover:bg-orange-500 hover:text-white transition-all p-2  rounded-md">
  <span class="flex flex-row gap-2 items-center">
    <i data-feather={{icon}} class="h-6 w-6"></i>
  <p class="hidden md:inline font-semibold font-sans text-lg">{{label}}</p>
  </span>
  <p class="hidden md:inline">{{number}}</p>
</a>
{% endif %}
{% endmacro %}

{% macro nav_btn(label, href, icon, number="") %}
<form onsubmit="submitReload()">
<button type="submit" class="block hover:bg-orange-500 hover:text-white transition-all p-2  rounded-md">
  <span class="flex flex-row gap-2 items-center">
    <i data-feather={{icon}} class="h-6 w-6"></i>
  <p class="hidden md:inline font-semibold font-sans text-lg">{{label}}</p>
  </span>
  <p class="hidden md:inline">{{number}}</p>
</button>
</form>

<script>
  function submitReload(e) {
    e.preventDefault();

    $.ajax({
      url: "{{href}}",
        type: 'post',
        data: data,
        success: function(){
       }
   });
  }
</script>
{% endmacro %}


{% macro preferences() %}
  <button class="p-2">
  <i data-feather="sliders"></i>

</button>
{% endmacro %}



{% macro profile(user) %}
  <div class="relative flex flex-col h-full md:h-[700px] w-full md:w-[350px] shadow-lg rounded-3xl bg-gradient-to-t from-black/30 to-40% overflow-y-scroll text-white">
    <img class="absolute h-full w-full -z-10" src=""/>
    <div class="p-4 mt-auto">
      <span class="flex flex-row items-center gap-4">
        <p class="font-bold text-4xl lg:text-3xl">{{user['name']}}</p>
        <p class="text-xl">{{user['age']}}</p>
      </span>
      <p >
        Lorem ipsum odor amet, consectetuer adipiscing elit. Primis ornare sagittis commodo lacus torquent. Nibh nullam ex purus accumsan cubilia laoreet nisl. </p>
    </div>
    <span class="flex mb-4 px-4 flex-row items-center gap-4 font-bold text-white ">
      <button class="py-4 bg-red-500 hover:bg-red-600 flex flex-row items-center justify-center gap-1 rounded-lg w-full">
        <i data-feather="x-circle" class="h-6 w-6"/></i>
        <p class="w-fit">Nope</p>
      </button>
      <button class="py-4 bg-green-500 hover:bg-green-600 flex flex-row items-center rounded-lg w-full justify-center gap-1 ">
        <i data-feather="heart" class="h-6 w-6"/></i>
        <p>Like</p>
      </button>
    </span>

  </div>
{%endmacro %}

{% macro match(user) %}
<a>
  <div class="flex flex-col text-white p-2 h-[250px] w-[200px] rounded-md bg-gradient-to-t from-black/30 to-40%">
  <p class="mt-auto">
    {{user['name']}}
  </p>
</div>
</a>
{% endmacro %}


{% macro mobile_header() %}
<div class="block md:hidden px-8 py-4 sticky top-0 ">
<div class="w-full flex flex-row items-center justify-between">
  <span class="flex flex-col gap-2">
  <h1 class="font-light text-3xl">Dating App</h1>
  <p>{{title}}</p>
  </span>
    {{preferences()}}
</div>
</div>
{% endmacro %}

{% macro chat_display(user, messages) %}
{% if messages|length > 0 %}
<a class="flex flex-row items-center hover:bg-light-50 p-4 rounded-lg gap-4">
    <div class="min-w-12 min-h-12 bg-light-300 rounded-full"></div>
    <span class="flex flex-col leading-none flex-1">
    <p class="font-bold text-lg">{{user['name']}}</p>
    <p class="overflow-ellipsis">{{messages[messages|length-1]['message']}}</p>
    </span>
    <p class="text-sm">8:59</p>
</a>
{% endif %}
{%endmacro %}


